<!DOCTYPE html>





<html class="theme-next mist use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.9.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="/lib/fancybox/source/jquery.fancybox.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"always","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":false},
    save_scroll: false,
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    }
  };
</script>

  <meta name="description" content="项目创建安装vue脚手架.1npm install -g @vue/cli">
<meta name="keywords" content="javascript, Vue, React, Node, HTML5">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue3.0后台管理系统开发笔记">
<meta property="og:url" content="http://yoursite.com/2020/08/05/Vue3-0后台管理系统开发笔记/index.html">
<meta property="og:site_name" content="Zax&#39;s BLOG">
<meta property="og:description" content="项目创建安装vue脚手架.1npm install -g @vue/cli">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-08-18T08:58:55.002Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vue3.0后台管理系统开发笔记">
<meta name="twitter:description" content="项目创建安装vue脚手架.1npm install -g @vue/cli">
  <link rel="canonical" href="http://yoursite.com/2020/08/05/Vue3-0后台管理系统开发笔记/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Vue3.0后台管理系统开发笔记 | Zax's BLOG</title>
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  <div class="container sidebar-position-left">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Zax's BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
      </li>
    
  </ul>

    

</nav>
  <div class="site-search">
    
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>


  </div>
</div>
    </header>

    

  <a href="https://github.com/zaxtseng" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/05/Vue3-0后台管理系统开发笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zax Tseng">
      <meta itemprop="description" content="Zax's BLOG">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zax's BLOG">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">Vue3.0后台管理系统开发笔记

            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2020-08-05 21:36:15" itemprop="dateCreated datePublished" datetime="2020-08-05T21:36:15+08:00">2020-08-05</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-18 16:58:55" itemprop="dateModified" datetime="2020-08-18T16:58:55+08:00">2020-08-18</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a>项目创建</h1><p>安装vue脚手架.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><a id="more"></a>


<p>github新建仓库并clone到本地.</p>
<h1 id="git创建dev分支并切换"><a href="#git创建dev分支并切换" class="headerlink" title="git创建dev分支并切换"></a>git创建dev分支并切换</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git branch dev</span><br><span class="line"><span class="comment">//切换到dev分支</span></span><br><span class="line">git checkout dev</span><br><span class="line"><span class="comment">//将dev分支推送到git远程</span></span><br><span class="line">git push --<span class="keyword">set</span>-upstream origin dev</span><br></pre></td></tr></table></figure>

<h2 id="创建版本分支"><a href="#创建版本分支" class="headerlink" title="创建版本分支"></a>创建版本分支</h2><p>建立与dev分支之下<br><code>feature-vueAdmin-V1.0.0-20200804</code>: 分支完整名称<br>feature: 描述当前分支类型(需求)<br>VueAdmin: 项目名称<br>V1.0.0: 版本号<br>20200804: 建立分支时间</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建并切换</span></span><br><span class="line">git checkout -b feature-vue3<span class="number">.0</span>Admin-V1<span class="number">.0</span><span class="number">.0</span><span class="number">-20200804</span></span><br></pre></td></tr></table></figure>

<h2 id="Bug分支"><a href="#Bug分支" class="headerlink" title="Bug分支"></a>Bug分支</h2><p>建立于当前版本分支下<br><code>bug-101241-202008</code>: bug分支完整名称<br>bug: 分支类型<br>101241: bug的ID<br>202008: 建立分支日期</p>
<h1 id="构建项目"><a href="#构建项目" class="headerlink" title="构建项目"></a>构建项目</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue3<span class="number">.0</span>Admin</span><br></pre></td></tr></table></figure>

<h2 id="项目预配置"><a href="#项目预配置" class="headerlink" title="项目预配置"></a>项目预配置</h2><p>创建vue.config.js文件.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vue.config.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">/* 部署应用包的基本URL */</span></span><br><span class="line">  <span class="comment">/* baseUrl 从 Vue CLI 3.3 起已弃用 ，请使用publicPath */</span></span><br><span class="line">  <span class="comment">//  baseUrl: process.env.NODE_ENV === "production" ? "./" : "./",</span></span><br><span class="line">  publicPath: process.env.NODE_ENV === <span class="string">"production"</span> ? <span class="string">" "</span> : <span class="string">"/"</span>,</span><br><span class="line">  <span class="comment">/* 生产环境构建文件的目录 defalut: dist */</span></span><br><span class="line">  outputDir: process.env.NODE_ENV === <span class="string">"production"</span> ? <span class="string">"dist"</span> : <span class="string">"devdist"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 是否保存时 lint 代码 */</span></span><br><span class="line">  lintOnSave: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">/* 是否使用编译器 default: false */</span></span><br><span class="line">  runtimeCompiler: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">  productionSourceMap: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// crossorigin: "",</span></span><br><span class="line">  integrity: <span class="literal">false</span>,</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">    resolve: &#123;</span><br><span class="line">      alias: &#123;</span><br><span class="line">        assets: <span class="string">"@/assets"</span>,</span><br><span class="line">        components: <span class="string">"@/components"</span>,</span><br><span class="line">        views: <span class="string">"@/views"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// css相关配置</span></span><br><span class="line">  css: &#123;</span><br><span class="line">    <span class="comment">// 是否使用css分离插件 ExtractTextPlugin</span></span><br><span class="line">    extract: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 开启 CSS source maps?</span></span><br><span class="line">    sourceMap: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// css预设器配置项</span></span><br><span class="line">    loaderOptions: &#123;</span><br><span class="line">      sass: &#123;</span><br><span class="line">        prependData: <span class="string">`@import "./src/styles/main.scss";`</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 启用 CSS modules for all css / pre-processor files.</span></span><br><span class="line">    requireModuleExtension: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    port: <span class="number">8080</span>,</span><br><span class="line">    host: <span class="string">"0.0.0.0"</span>,</span><br><span class="line">    https: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 自动启动浏览器</span></span><br><span class="line">    open: <span class="literal">false</span>,</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">"/api"</span>: &#123;</span><br><span class="line">        <span class="comment">//代理路径 例如 https://baidu.com</span></span><br><span class="line">        target: <span class="string">"https://baidu.com"</span>,</span><br><span class="line">        <span class="comment">// 将主机标头的原点更改为目标URL</span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        ws: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          <span class="string">"^/api"</span>: <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="初始化css配置"><a href="#初始化css配置" class="headerlink" title="初始化css配置"></a>初始化css配置</h2><p>在vue.config.js中的css字段增加选项.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">loaderOptions: &#123;</span><br><span class="line">    sass: &#123;</span><br><span class="line">    data: <span class="string">`@import "./src/styles/main.scss";`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="引入normalize-scss"><a href="#引入normalize-scss" class="headerlink" title="引入normalize.scss"></a>引入normalize.scss</h3><p>创建main.scss,下载<code>normalize.scss</code>文件<br>在main.scss引入该文件.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.scss</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">"./normalize.scss"</span>;</span><br></pre></td></tr></table></figure>

<h1 id="登录页面"><a href="#登录页面" class="headerlink" title="登录页面"></a>登录页面</h1><h2 id="新建登录文件夹Login"><a href="#新建登录文件夹Login" class="headerlink" title="新建登录文件夹Login"></a>新建登录文件夹Login</h2><p>创建Login/index.vue.</p>
<h2 id="加载路由"><a href="#加载路由" class="headerlink" title="加载路由"></a>加载路由</h2><p>使用webpack按需加载路由写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//router</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">"/"</span>,</span><br><span class="line">    name: <span class="string">"Home"</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Home.vue"</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">"/login"</span>,</span><br><span class="line">    name: <span class="string">"Login"</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Login"</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="编写Login页面"><a href="#编写Login页面" class="headerlink" title="编写Login页面"></a>编写Login页面</h2><h3 id="登录和注册的toggle选项"><a href="#登录和注册的toggle选项" class="headerlink" title="登录和注册的toggle选项"></a>登录和注册的toggle选项</h3>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//Login</span></span><br><span class="line">  &lt;template&gt;</span><br><span class="line">  &lt;div id=<span class="string">"login"</span>&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login-wrap"</span>&gt;</span><br><span class="line">      &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">"menu-tab"</span>&gt;</span><br><span class="line">        &lt;li</span><br><span class="line">          v-<span class="keyword">for</span>=<span class="string">"item in menuTab"</span></span><br><span class="line">          :key=<span class="string">"item.id"</span></span><br><span class="line">          :<span class="class"><span class="keyword">class</span></span>=<span class="string">"&#123; current: item.current &#125;"</span></span><br><span class="line">          @click=<span class="string">"toggleMenu(item)"</span></span><br><span class="line">        &gt;</span><br><span class="line">          &#123;&#123; item.text &#125;&#125;</span><br><span class="line">        &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/u</span>l&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: "login",</span></span><br><span class="line"><span class="regexp">  data() &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      menuTab: [</span></span><br><span class="line"><span class="regexp">        &#123; text: "登录", current: true &#125;,</span></span><br><span class="line"><span class="regexp">        &#123; text: "注册", current: false &#125;</span></span><br><span class="line"><span class="regexp">      ]</span></span><br><span class="line"><span class="regexp">    &#125;;</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  created() &#123;&#125;,</span></span><br><span class="line"><span class="regexp">  mounted() &#123;&#125;,</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    toggleMenu(data) &#123;</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/用遍历将所有选中状态清除</span></span><br><span class="line"><span class="regexp">      this.menuTab.forEach(e =&gt; &#123;</span></span><br><span class="line"><span class="regexp">        e.current = false;</span></span><br><span class="line"><span class="regexp">      &#125;);</span></span><br><span class="line"><span class="regexp">      data.current = true;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="使用ElementUI表单"><a href="#使用ElementUI表单" class="headerlink" title="使用ElementUI表单"></a>使用ElementUI表单</h3><p>首先安裝elementUI.然后在<code>main.js</code>中引入.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">"element-ui"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"element-ui/lib/theme-chalk/index.css"</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>

<h3 id="引入表单"><a href="#引入表单" class="headerlink" title="引入表单"></a>引入表单</h3><p>按照官网复制粘贴表单.</p>
<h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><h3 id="登录时重复密码隐藏"><a href="#登录时重复密码隐藏" class="headerlink" title="登录时重复密码隐藏"></a>登录时重复密码隐藏</h3><p>bug: 使用v-show时因为该dom只是隐藏,本身存在,会进行判断.会无法正常提交.<br>使用v-if时将dom移除,不再判断重复密码框,不会报错.<br>解决办法:<br>在重复密码的验证阶段加if判断,如果是登录模块,直接不验证.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.model === <span class="string">'login'</span>)&#123;</span><br><span class="line">  callback()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="语法转换-Vue2-0-gt-Vue3-0"><a href="#语法转换-Vue2-0-gt-Vue3-0" class="headerlink" title="语法转换:Vue2.0 =&gt; Vue3.0"></a>语法转换:Vue2.0 =&gt; Vue3.0</h2><p>Vue3.0更改要点:<br>响应式,模板,对象式的组件声明方式.<br>安装vue3.0依赖<code>@vue/composition-api</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @vue/composition-api</span><br></pre></td></tr></table></figure>

<p>在main.js中导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueCompositionApi <span class="keyword">from</span> <span class="string">'@vue/composition-api'</span>;</span><br><span class="line">Vue.use(VueCompositionApi);</span><br></pre></td></tr></table></figure>

<h2 id="Vue3-0新特性"><a href="#Vue3-0新特性" class="headerlink" title="Vue3.0新特性"></a>Vue3.0新特性</h2><h3 id="setup函数"><a href="#setup函数" class="headerlink" title="setup函数"></a>setup函数</h3><p>setup是一个新的Vue组件选项,适用于在组件中使用Composition API的入口.<br>函数类型,下列api可以放入.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setup(props,context)&#123;</span><br><span class="line">  <span class="comment">//这里放置data数据,生命周期,自定义函数</span></span><br><span class="line">  <span class="keyword">const</span> menuTab = reactive([</span><br><span class="line">  &#123; <span class="attr">text</span>: <span class="string">"登录"</span>, <span class="attr">current</span>: <span class="literal">true</span>, <span class="attr">type</span>: <span class="string">'login'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">text</span>: <span class="string">"注册"</span>, <span class="attr">current</span>: <span class="literal">false</span>, <span class="attr">type</span>: <span class="string">'register'</span> &#125;</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Reactive-声明单一对象时使用"><a href="#Reactive-声明单一对象时使用" class="headerlink" title="Reactive(声明单一对象时使用)"></a>Reactive(声明单一对象时使用)</h3><p>取得一个对象并返回原始对象的响应数据处理.<br>首先需要引入.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive &#125; <span class="keyword">from</span> <span class="string">'@vue/composition-api'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = reactive(&#123; <span class="attr">count</span>: <span class="number">0</span> &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ref-声明基础数据类型变量时使用"><a href="#ref-声明基础数据类型变量时使用" class="headerlink" title="ref(声明基础数据类型变量时使用)"></a>ref(声明基础数据类型变量时使用)</h3><p>内部值并返回一个响应性且可变的ref对象. ref对象具有<code>.value</code>指向内部值的单个属性.<br>也是需要引入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">'@vue/composition-api'</span></span><br><span class="line"><span class="keyword">const</span> number = ref(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取值方式: number.value</span></span><br></pre></td></tr></table></figure>

<h3 id="isRef和toRefs"><a href="#isRef和toRefs" class="headerlink" title="isRef和toRefs"></a>isRef和toRefs</h3><p>isRef检查一个对象是否是ref对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unwrapped = isRef(foo) ? foo.value : foo;</span><br></pre></td></tr></table></figure>

<p>toRefs将reactive对象转换为普通对象,保证对象结构或者拓展运算符不会丢失原有响应式对象的响应.<br>示例:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useM</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> pos = reactive(&#123;</span><br><span class="line">    x:<span class="number">0</span>,</span><br><span class="line">    y:<span class="number">0</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> toRefs(pos)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123; x, y &#125; = useM()</span><br></pre></td></tr></table></figure>

<h3 id="将所有内容写到setup中"><a href="#将所有内容写到setup中" class="headerlink" title="将所有内容写到setup中"></a>将所有内容写到setup中</h3><p>data(){}也删掉.</p>
<h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br></pre></td></tr></table></figure>

<h2 id="拦截器interceptors"><a href="#拦截器interceptors" class="headerlink" title="拦截器interceptors"></a>拦截器interceptors</h2><h3 id="创建API"><a href="#创建API" class="headerlink" title="创建API"></a>创建API</h3><p>在api文件夹创建<code>login.js</code>,<code>user.js</code>.</p>
<h3 id="创建拦截器"><a href="#创建拦截器" class="headerlink" title="创建拦截器"></a>创建拦截器</h3><p>在<code>utils/request.js</code>中创建拦截器.<br>使用自定义拦截器需要实例化axios.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BASEURL = process.env.NODE_ENV === <span class="string">"production"</span> ? <span class="string">""</span> : <span class="string">"/devApi"</span>;</span><br><span class="line"><span class="keyword">const</span> service = axios.create(&#123;</span><br><span class="line">  baseURL: BASEURL,</span><br><span class="line">  timeout: <span class="number">1000</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//request请求</span></span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//response请求</span></span><br><span class="line">service.interceptors.response.use(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">//导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> service;</span><br></pre></td></tr></table></figure>

<h3 id="在API中调用拦截器"><a href="#在API中调用拦截器" class="headerlink" title="在API中调用拦截器"></a>在API中调用拦截器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//api/login.js</span></span><br><span class="line"><span class="keyword">import</span> service <span class="keyword">from</span> <span class="string">"@/utils/request.js"</span>;</span><br><span class="line"><span class="comment">//获取验证码</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">GetSms</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  service.request(&#123;</span><br><span class="line">    method: <span class="string">"post"</span>,</span><br><span class="line">    url: <span class="string">"/getSms/"</span>,</span><br><span class="line">    data: &#123;&#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="在Login页面引入请求"><a href="#在Login页面引入请求" class="headerlink" title="在Login页面引入请求"></a>在Login页面引入请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//login</span></span><br><span class="line"><span class="keyword">import</span> &#123; GetSms &#125; <span class="keyword">from</span> <span class="string">'@/api/login'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取验证码</span></span><br><span class="line"><span class="keyword">const</span> getSms = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  GetSms()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注意Vue3.0语法要将函数return出去</span></span><br></pre></td></tr></table></figure>

<h4 id="在button上绑定click事件"><a href="#在button上绑定click事件" class="headerlink" title="在button上绑定click事件"></a>在button上绑定click事件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button @click=<span class="string">"getSms()"</span>&gt;获取验证码&lt;<span class="regexp">/el-button&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="设置跨域"><a href="#设置跨域" class="headerlink" title="设置跨域"></a>设置跨域</h3><p>在vue.config.js中添加跨域设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> proxy: &#123;</span><br><span class="line">  <span class="string">"/devApi"</span>: &#123;</span><br><span class="line">    <span class="comment">//代理路径 例如 https://baidu.com</span></span><br><span class="line">    target: <span class="string">"http://www.web-jshtml.cn/productapi"</span>,</span><br><span class="line">    <span class="comment">// 将主机标头的原点更改为目标URL</span></span><br><span class="line">    changeOrigin: <span class="literal">true</span>,</span><br><span class="line">    ws: <span class="literal">true</span>,</span><br><span class="line">    pathRewrite: &#123;</span><br><span class="line">      <span class="string">"^/devApi"</span>: <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在请求中设置环境变量.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//request.js</span></span><br><span class="line"><span class="comment">//如果是生成环境则不设置,开发环境设置为"devApi",</span></span><br><span class="line"><span class="comment">//自动替换vue.config.js中的跨域设置</span></span><br><span class="line"><span class="keyword">const</span> BASEURL = process.env.NODE_ENV === <span class="string">"production"</span> ? <span class="string">""</span> : <span class="string">"/devApi"</span>;</span><br></pre></td></tr></table></figure>

<h3 id="按钮默认状态禁用"><a href="#按钮默认状态禁用" class="headerlink" title="按钮默认状态禁用"></a>按钮默认状态禁用</h3><p>修改提交为登录,注册科切换状态</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;model === <span class="string">'login'</span> ? <span class="string">'登录'</span> : <span class="string">'注册'</span> &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>绑定禁用状态</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:disabled=<span class="string">"loginButtonStatus"</span></span><br></pre></td></tr></table></figure>

<p>设置禁用参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loginButtonStatus = ref(<span class="literal">true</span>)</span><br><span class="line"><span class="comment">//注意最后return中的填写</span></span><br></pre></td></tr></table></figure>

<h2 id="添加验证码提示信息"><a href="#添加验证码提示信息" class="headerlink" title="添加验证码提示信息"></a>添加验证码提示信息</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getSms = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(ruleForm.username == <span class="string">''</span>)&#123;</span><br><span class="line">    root.$message.error(<span class="string">'邮箱不能为空!'</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="context替换为解构形式"><a href="#context替换为解构形式" class="headerlink" title="context替换为解构形式"></a>context替换为解构形式</h3><p><code>{refs, root}</code></p>
<h2 id="响应拦截"><a href="#响应拦截" class="headerlink" title="响应拦截"></a>响应拦截</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//响应拦截器</span></span><br><span class="line">service.interceptors.response.use(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//响应数据</span></span><br><span class="line">    <span class="keyword">let</span> data = response.data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (data.resCode !== <span class="number">0</span>) &#123;</span><br><span class="line">      Message.error(data.message);</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(data);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//响应错误</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="bug之无用邮箱验证码"><a href="#bug之无用邮箱验证码" class="headerlink" title="bug之无用邮箱验证码"></a>bug之无用邮箱验证码</h2><p>需要和后端沟通,如果填入的邮箱格式正确但是实际无用,依旧会发送验证码.<br>获取验证码时添加一步验证.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 获取验证码</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">const</span> getSms = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (ruleForm.username == <span class="string">""</span>) &#123;</span><br><span class="line">    root.$message.error(<span class="string">"邮箱不能为空!"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//添加邮箱格式验证</span></span><br><span class="line">  <span class="keyword">if</span>(validateEmail(ruleForm.username))&#123;</span><br><span class="line">    root.$message.error(<span class="string">"邮箱格式有误!请重新输入!"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//请求接口</span></span><br><span class="line">  GetSms(&#123;</span><br><span class="line">    username: ruleForm.username, <span class="attr">module</span>: <span class="string">'login'</span></span><br><span class="line">  &#125;).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(response);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="增加重置表单"><a href="#增加重置表单" class="headerlink" title="增加重置表单"></a>增加重置表单</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$refs[formName].resetFields() <span class="comment">//2.0写法</span></span><br><span class="line">refs.loginForm.resetFields() <span class="comment">//3.0写法</span></span><br></pre></td></tr></table></figure>

<h3 id="验证码发送中"><a href="#验证码发送中" class="headerlink" title="验证码发送中"></a>验证码发送中</h3><p>添加验证码发送中的按钮状态.<br>发送完成后添加倒计时状态.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取验证码按钮</span></span><br><span class="line">&lt;el-button </span><br><span class="line">    <span class="class"><span class="keyword">class</span></span>=<span class="string">"buttonClass"</span> </span><br><span class="line">    type=<span class="string">"success"</span> </span><br><span class="line">    @click=<span class="string">"getSms()"</span> </span><br><span class="line">    :disabled=<span class="string">"codeButtonStatus"</span>&gt;</span><br><span class="line">    &#123;&#123;codeButtonText&#125;&#125;&lt;<span class="regexp">/el-button&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置验证码按钮状态</span></span><br><span class="line"><span class="keyword">const</span> codeButtonStatus = ref(<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">const</span> codeButtonText = ref(<span class="string">'获取验证码'</span>)</span><br></pre></td></tr></table></figure>

<p>发送后按钮显示正常</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//请求接口</span></span><br><span class="line">GetSms( requestData )</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = response.data;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">    <span class="comment">//增加弹窗信息</span></span><br><span class="line">    root.$message(&#123;</span><br><span class="line">      message: <span class="string">"验证码已发送!"</span>,</span><br><span class="line">      type: <span class="string">"success"</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//启用登录或注册按钮</span></span><br><span class="line">    loginButtonStatus.value = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="倒计时状态"><a href="#倒计时状态" class="headerlink" title="倒计时状态"></a>倒计时状态</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*倒计时模块 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//声明倒计时</span></span><br><span class="line"><span class="keyword">const</span> timer = ref(<span class="literal">null</span>) <span class="comment">//初始值为null</span></span><br><span class="line"><span class="comment">//发送后倒计时读秒</span></span><br><span class="line"><span class="keyword">const</span> countDown = <span class="function">(<span class="params">number</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> time = number</span><br><span class="line">  <span class="comment">//设定倒计时</span></span><br><span class="line">  timer.value = setInterval(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//倒计时减秒</span></span><br><span class="line">    time--</span><br><span class="line">    <span class="comment">//判断时间为零</span></span><br><span class="line">    <span class="keyword">if</span>(time === <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="comment">//清除倒计时,并将按钮状态设为可用</span></span><br><span class="line">      clearInterval(timer.value)</span><br><span class="line">      codeButtonStatus.status = <span class="literal">false</span></span><br><span class="line">      codeButtonStatus.text  = <span class="string">'再次获取'</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="comment">//设置倒计时读秒</span></span><br><span class="line">      codeButtonStatus.text = <span class="string">`倒计时<span class="subst">$&#123;time&#125;</span>秒`</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="增加注册接口"><a href="#增加注册接口" class="headerlink" title="增加注册接口"></a>增加注册接口</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//api/login.js</span></span><br><span class="line"><span class="comment">//注册</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">Register</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> service.request(&#123;</span><br><span class="line">    method: <span class="string">"post"</span>,</span><br><span class="line">    url: <span class="string">"/register/"</span>,</span><br><span class="line">    data</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="绑定注册按钮"><a href="#绑定注册按钮" class="headerlink" title="绑定注册按钮"></a>绑定注册按钮</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Login/index.vue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**提交表单</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">const</span> submitForm = <span class="function"><span class="params">formName</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//传入数据先验证</span></span><br><span class="line">  refs[formName].validate(<span class="function"><span class="params">valid</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">      <span class="comment">//验证通过后将请求数据传入api</span></span><br><span class="line">      <span class="keyword">let</span> requestData = &#123;</span><br><span class="line">        username: ruleForm.username,</span><br><span class="line">        password: ruleForm.password,</span><br><span class="line">        code: ruleForm.code</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//调用注册api返回信息</span></span><br><span class="line">      Register(requestData).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data = response.data</span><br><span class="line">        root.$message(&#123;</span><br><span class="line">          message: data.message,</span><br><span class="line">          type: <span class="string">'success'</span></span><br><span class="line">        &#125;)</span><br><span class="line">        toggleMenu(menuTab[<span class="number">0</span>])</span><br><span class="line">        clearCountDown()</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"error submit!!"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="注册成功清除验证码倒计时"><a href="#注册成功清除验证码倒计时" class="headerlink" title="注册成功清除验证码倒计时"></a>注册成功清除验证码倒计时</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clearCountDown = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//还原按钮状态</span></span><br><span class="line">  codeButtonStatus.status = <span class="literal">false</span></span><br><span class="line">  codeButtonStatus.text = <span class="string">'获取验证码'</span></span><br><span class="line">  <span class="comment">//清除验证码倒计时</span></span><br><span class="line">  clearInterval(timer.value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="倒计时模块按钮恢复"><a href="#倒计时模块按钮恢复" class="headerlink" title="倒计时模块按钮恢复"></a>倒计时模块按钮恢复</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countDown = <span class="function">(<span class="params">time</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="comment">//判断定时器是否存在,存在即清除</span></span><br><span class="line"><span class="keyword">if</span>(timer.value)&#123;clearInterval(timer.value)&#125;</span><br><span class="line"><span class="comment">// let time = number</span></span><br><span class="line"><span class="comment">//设定倒计时</span></span><br><span class="line">timer.value = setInterval(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//倒计时减秒</span></span><br><span class="line">  time--</span><br><span class="line">  <span class="comment">//判断时间为零</span></span><br><span class="line">  <span class="keyword">if</span>(time === <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="comment">//清除倒计时,并将按钮状态设为可用</span></span><br><span class="line">    clearInterval(timer.value)</span><br><span class="line">    codeButtonStatus.status = <span class="literal">false</span></span><br><span class="line">    codeButtonStatus.text  = <span class="string">'再次获取'</span></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//设置倒计时读秒</span></span><br><span class="line">    codeButtonStatus.text = <span class="string">`倒计时<span class="subst">$&#123;time&#125;</span>秒`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<h2 id="登录接口"><a href="#登录接口" class="headerlink" title="登录接口"></a>登录接口</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//api/login.js</span></span><br><span class="line"><span class="comment">//登录</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">Login</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> service.request(&#123;</span><br><span class="line">    method: <span class="string">"post"</span>,</span><br><span class="line">    url: <span class="string">"/login/"</span>,</span><br><span class="line">    data</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="注册登录函数提取出来"><a href="#注册登录函数提取出来" class="headerlink" title="注册登录函数提取出来"></a>注册登录函数提取出来</h2><p>引入登录接口Login<br>将登录请求和注册请求单独声明</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 登录请求</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> login = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> requestData = &#123;</span><br><span class="line">    username: ruleForm.username,</span><br><span class="line">    password: ruleForm.password,</span><br><span class="line">    code: ruleForm.code</span><br><span class="line">  &#125;;</span><br><span class="line">  Login(requestData)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> data = response.data;</span><br><span class="line">      root.$message(&#123;</span><br><span class="line">        message: data.message,</span><br><span class="line">        type: <span class="string">"success"</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//登录成功跳转</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"login success"</span>)</span><br><span class="line">      <span class="comment">//清除验证码倒计时</span></span><br><span class="line">      clearCountDown();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="提交表单进行修改"><a href="#提交表单进行修改" class="headerlink" title="提交表单进行修改"></a>提交表单进行修改</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**提交表单</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> submitForm = <span class="function"><span class="params">formName</span> =&gt;</span> &#123;</span><br><span class="line">  refs[formName].validate(<span class="function"><span class="params">valid</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">      <span class="comment">//判断是登录还是注册</span></span><br><span class="line">        model.value === <span class="string">"login"</span> ? login(): register()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"error submit!!"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="sha1加密"><a href="#sha1加密" class="headerlink" title="sha1加密"></a>sha1加密</h2><p>安装加密</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i js-sha1</span><br></pre></td></tr></table></figure>

<p>引入sha1</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sha1 <span class="keyword">from</span> <span class="string">'js-sha1'</span></span><br></pre></td></tr></table></figure>

<p>将所有password加密</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password: sha1(ruleForm.password)</span><br></pre></td></tr></table></figure>

<h3 id="代码优化-代码分离"><a href="#代码优化-代码分离" class="headerlink" title="代码优化-代码分离"></a>代码优化-代码分离</h3><p>降低耦合度</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//login/index.vue</span></span><br><span class="line"><span class="comment">//切换tab</span></span><br><span class="line"><span class="keyword">const</span> toggleMenu = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//判断注册或登录的显隐</span></span><br><span class="line">  model.value = data.type;</span><br><span class="line">  <span class="comment">//用遍历将所有选中状态清除</span></span><br><span class="line">  menuTab.forEach(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    e.current = <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">//修改点击的高光</span></span><br><span class="line">  data.current = <span class="literal">true</span>;</span><br><span class="line">  resetFormData()</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> resetFormData = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//重置表单</span></span><br><span class="line">  refs.loginForm.resetFields();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="代码优化–使用对象形式代替参数"><a href="#代码优化–使用对象形式代替参数" class="headerlink" title="代码优化–使用对象形式代替参数"></a>代码优化–使用对象形式代替参数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改按钮文字</span></span><br><span class="line"><span class="keyword">const</span> updateButtonStatus = <span class="function">(<span class="params">params</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//修改获取验证按钮状态</span></span><br><span class="line">  codeButtonStatus.status = params.status;</span><br><span class="line">  codeButtonStatus.text = params.text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制台Console"><a href="#控制台Console" class="headerlink" title="控制台Console"></a>控制台Console</h2><p>新建页面Console<br>新增路由中Console的单个route.</p>
<h3 id="登录跳转"><a href="#登录跳转" class="headerlink" title="登录跳转"></a>登录跳转</h3><p>在登录成功出放置跳转函数.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root.$router.push(&#123;</span><br><span class="line">  name: <span class="string">'Console'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="单独创建Layout"><a href="#单独创建Layout" class="headerlink" title="单独创建Layout"></a>单独创建Layout</h3><p>将Layout引入到路由中,使用Console的route.<br>在Layout中新建组件Components.<br>其中分别有Header.vue,Nav.vue,Main.vue.<br>三个组件引入到Layout/index.vue中.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;LayoutHeader /&gt;</span><br><span class="line">        &lt;LayoutNav /&gt;</span><br><span class="line">        &lt;LayoutMain /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> LayoutNav <span class="keyword">from</span> <span class="string">'./Components/Nav'</span></span><br><span class="line"><span class="keyword">import</span> LayoutMain <span class="keyword">from</span> <span class="string">'./Components/Main'</span></span><br><span class="line"><span class="keyword">import</span> LayoutHeader <span class="keyword">from</span> <span class="string">'./Components/Header'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name: <span class="string">"layout"</span>,</span><br><span class="line">    components: &#123;LayoutNav, LayoutMain, LayoutHeader&#125;,</span><br><span class="line">    setup()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;style lang="scss" scoped&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Console模块-Main-vue"><a href="#Console模块-Main-vue" class="headerlink" title="Console模块(Main.vue)"></a>Console模块(Main.vue)</h3><p>新增子路由,并将导航路由重定向.<br>当点击该路由时,会默认显示第一个子路由.<br>因为新增了子路由,所以需要在main.vue中添加<code>&lt;router-view /&gt;</code>显示.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">"/console"</span>,</span><br><span class="line">  name: <span class="string">"Console"</span>,</span><br><span class="line">  redirect: <span class="string">"index"</span>,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Layout"</span>),</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">"/index"</span>,</span><br><span class="line">      name: <span class="string">"Index"</span>,</span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Console"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="config样式"><a href="#config样式" class="headerlink" title="config样式"></a>config样式</h2><p>新建config.scss,写入变量样式属性.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$navMenu:<span class="number">200</span>px;</span><br></pre></td></tr></table></figure>

<p>其他地方使用需要引入.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"../../../styles/config.scss"</span>;</span><br></pre></td></tr></table></figure>

<h3 id="修改路由名称"><a href="#修改路由名称" class="headerlink" title="修改路由名称"></a>修改路由名称</h3><h2 id="新增导航菜单"><a href="#新增导航菜单" class="headerlink" title="新增导航菜单"></a>新增导航菜单</h2><p>使用elementUI的nav导航框架.<br>将v-for许幻放入<code>&lt;template&gt;</code>中.否则影响<code>v-if</code>的判断.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu</span><br><span class="line">  <span class="keyword">default</span>-active=<span class="string">"1-4-1"</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span></span>=<span class="string">"el-menu-vertical-demo"</span></span><br><span class="line">  @open=<span class="string">"handleOpen"</span></span><br><span class="line">  @close=<span class="string">"handleClose"</span></span><br><span class="line">  :collapse=<span class="string">"isCollapse"</span></span><br><span class="line">  background-color=<span class="string">"transparent"</span></span><br><span class="line">  text-color=<span class="string">"#fff"</span></span><br><span class="line">&gt;</span><br><span class="line">  &lt;template v-<span class="keyword">for</span>=<span class="string">"(item, index) in routers"</span>&gt;</span><br><span class="line">    &lt;el-submenu v-<span class="keyword">if</span>=<span class="string">"!item.hidden"</span> :key=<span class="string">"item.id"</span> :index=<span class="string">"index"</span>&gt;</span><br><span class="line">      &lt;!-- 一级菜单 --&gt;</span><br><span class="line">      &lt;template slot=<span class="string">"title"</span>&gt;</span><br><span class="line">        &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"el-icon-location"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">        &lt;span slot=<span class="string">"title"</span>&gt;&#123;&#123; item.meta.name &#125;&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>template&gt;</span><br><span class="line">      &lt;el-menu-item</span><br><span class="line">        v-<span class="keyword">for</span>=<span class="string">"subItem in item.children"</span></span><br><span class="line">        :key=<span class="string">"subItem.id"</span></span><br><span class="line">        :index=<span class="string">"1"</span></span><br><span class="line">        &gt;&#123;&#123; subItem.meta.name &#125;&#125;&lt;<span class="regexp">/el-menu-item</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>el-submenu&gt;</span><br><span class="line">  &lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>el-menu&gt;</span><br></pre></td></tr></table></figure>

<h3 id="其中的数据填入"><a href="#其中的数据填入" class="headerlink" title="其中的数据填入"></a>其中的数据填入</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">setup(props, &#123; root &#125;) &#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * data数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> isCollapse = ref(<span class="literal">false</span>);</span><br><span class="line"><span class="comment">// console.log(root.$router);</span></span><br><span class="line"><span class="keyword">const</span> routers = reactive(root.$router.options.routes);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> handleOpen = <span class="function">(<span class="params">key, keyPath</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, keyPath);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> handleClose = <span class="function">(<span class="params">key, keyPath</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, keyPath);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>记得return出去.</p>
<h3 id="左侧导航栏路由跳转"><a href="#左侧导航栏路由跳转" class="headerlink" title="左侧导航栏路由跳转"></a>左侧导航栏路由跳转</h3><p>左侧生成菜单后,需要点击进行路由跳转.使用<code>this.$router.push(&#39;/&#39;)</code>进行跳转.<br>将登录路由添加hidden属性,否则会显示出来.<br>同样在template中将<code>v-if=&quot;!item.hidden&quot;</code>设置好显隐.<br>路由也要进行修改.</p>
<h3 id="建立分类信息路由"><a href="#建立分类信息路由" class="headerlink" title="建立分类信息路由"></a>建立分类信息路由</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">"/info"</span>,</span><br><span class="line">  name: <span class="string">"Info"</span>,</span><br><span class="line">  meta: &#123;</span><br><span class="line">    name: <span class="string">"信息列表"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Layout"</span>),</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">"/infoCategory"</span>,</span><br><span class="line">      name: <span class="string">"InfoCategory"</span>,</span><br><span class="line">      meta: &#123;</span><br><span class="line">        name: <span class="string">"信息分类"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Info/category.vue"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="新建用户路由"><a href="#新建用户路由" class="headerlink" title="新建用户路由"></a>新建用户路由</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户管理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">"/user"</span>,</span><br><span class="line">  name: <span class="string">"User"</span>,</span><br><span class="line">  meta: &#123;</span><br><span class="line">    name: <span class="string">"用户管理"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/Layout"</span>),</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">"/userIndex"</span>,</span><br><span class="line">      name: <span class="string">" USerIndex"</span>,</span><br><span class="line">      meta: &#123;</span><br><span class="line">        name: <span class="string">"用户列表"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"../views/User"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="elementUI路由启用"><a href="#elementUI路由启用" class="headerlink" title="elementUI路由启用"></a>elementUI路由启用</h3><p>点击左侧菜单会跳转显示相对于页面.<br>需要在elementUI菜单中启用router.<br>router选项为是否使用vue-router的模式,<br>启用该模式会在激活导航时以index作为path进行路由跳转.<br>子路由修改为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu-item</span><br><span class="line">  v-<span class="keyword">for</span>=<span class="string">"subItem in item.children"</span></span><br><span class="line">  :key=<span class="string">"subItem.id"</span></span><br><span class="line">  :index=<span class="string">"subItem.path"</span></span><br><span class="line">  &gt;&#123;&#123; subItem.meta.name &#125;&#125;&lt;<span class="regexp">/el-menu-item</span></span><br><span class="line"><span class="regexp">&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="列表中选中状态"><a href="#列表中选中状态" class="headerlink" title="列表中选中状态"></a>列表中选中状态</h3><p>创建elementUI的公共样式<br>将该样式引入到<code>config.scss</code>中.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.el-submenu .el-menu-item  &#123;</span><br><span class="line">    padding-left: <span class="number">50</span>px;</span><br><span class="line">    font-size: <span class="number">14</span>px;</span><br><span class="line">    &amp;.is-active&#123;background-color: rgba(<span class="number">245</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">0.2</span>) !important;&#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">li.el-submenu &#123;</span><br><span class="line">    &amp;.is-active.is-opened .el-submenu__title &#123;</span><br><span class="line">        background-color: $mainColor !important;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    </div>

    
    
    
        
      

      <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2020/07/30/React-TypeScript/" rel="next" title="React-TypeScript">
                  <i class="fa fa-chevron-left"></i> React-TypeScript
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.gif"
      alt="Zax Tseng">
  <p class="site-author-name" itemprop="name">Zax Tseng</p>
  <div class="site-description motion-element" itemprop="description">Zax's BLOG</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">56</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/zaxtseng" title="GitHub &rarr; https://github.com/zaxtseng" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:lanfein9@hotmail.com" title="E-Mail &rarr; mailto:lanfein9@hotmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#项目创建"><span class="nav-number">1.</span> <span class="nav-text">项目创建</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#git创建dev分支并切换"><span class="nav-number">2.</span> <span class="nav-text">git创建dev分支并切换</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建版本分支"><span class="nav-number">2.1.</span> <span class="nav-text">创建版本分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bug分支"><span class="nav-number">2.2.</span> <span class="nav-text">Bug分支</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#构建项目"><span class="nav-number">3.</span> <span class="nav-text">构建项目</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#项目预配置"><span class="nav-number">3.1.</span> <span class="nav-text">项目预配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化css配置"><span class="nav-number">3.2.</span> <span class="nav-text">初始化css配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#引入normalize-scss"><span class="nav-number">3.2.1.</span> <span class="nav-text">引入normalize.scss</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#登录页面"><span class="nav-number">4.</span> <span class="nav-text">登录页面</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#新建登录文件夹Login"><span class="nav-number">4.1.</span> <span class="nav-text">新建登录文件夹Login</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#加载路由"><span class="nav-number">4.2.</span> <span class="nav-text">加载路由</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编写Login页面"><span class="nav-number">4.3.</span> <span class="nav-text">编写Login页面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#登录和注册的toggle选项"><span class="nav-number">4.3.1.</span> <span class="nav-text">登录和注册的toggle选项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用ElementUI表单"><span class="nav-number">4.3.2.</span> <span class="nav-text">使用ElementUI表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引入表单"><span class="nav-number">4.3.3.</span> <span class="nav-text">引入表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#验证"><span class="nav-number">4.3.4.</span> <span class="nav-text">验证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#登录时重复密码隐藏"><span class="nav-number">4.3.5.</span> <span class="nav-text">登录时重复密码隐藏</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语法转换-Vue2-0-gt-Vue3-0"><span class="nav-number">4.4.</span> <span class="nav-text">语法转换:Vue2.0 =&gt; Vue3.0</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue3-0新特性"><span class="nav-number">4.5.</span> <span class="nav-text">Vue3.0新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#setup函数"><span class="nav-number">4.5.1.</span> <span class="nav-text">setup函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reactive-声明单一对象时使用"><span class="nav-number">4.5.2.</span> <span class="nav-text">Reactive(声明单一对象时使用)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ref-声明基础数据类型变量时使用"><span class="nav-number">4.5.3.</span> <span class="nav-text">ref(声明基础数据类型变量时使用)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isRef和toRefs"><span class="nav-number">4.5.4.</span> <span class="nav-text">isRef和toRefs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将所有内容写到setup中"><span class="nav-number">4.5.5.</span> <span class="nav-text">将所有内容写到setup中</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#axios"><span class="nav-number">5.</span> <span class="nav-text">axios</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#拦截器interceptors"><span class="nav-number">5.1.</span> <span class="nav-text">拦截器interceptors</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建API"><span class="nav-number">5.1.1.</span> <span class="nav-text">创建API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建拦截器"><span class="nav-number">5.1.2.</span> <span class="nav-text">创建拦截器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在API中调用拦截器"><span class="nav-number">5.1.3.</span> <span class="nav-text">在API中调用拦截器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在Login页面引入请求"><span class="nav-number">5.1.4.</span> <span class="nav-text">在Login页面引入请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#在button上绑定click事件"><span class="nav-number">5.1.4.1.</span> <span class="nav-text">在button上绑定click事件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置跨域"><span class="nav-number">5.1.5.</span> <span class="nav-text">设置跨域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#按钮默认状态禁用"><span class="nav-number">5.1.6.</span> <span class="nav-text">按钮默认状态禁用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#添加验证码提示信息"><span class="nav-number">5.2.</span> <span class="nav-text">添加验证码提示信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#context替换为解构形式"><span class="nav-number">5.2.1.</span> <span class="nav-text">context替换为解构形式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#响应拦截"><span class="nav-number">5.3.</span> <span class="nav-text">响应拦截</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bug之无用邮箱验证码"><span class="nav-number">5.4.</span> <span class="nav-text">bug之无用邮箱验证码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增加重置表单"><span class="nav-number">5.4.1.</span> <span class="nav-text">增加重置表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#验证码发送中"><span class="nav-number">5.4.2.</span> <span class="nav-text">验证码发送中</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#倒计时状态"><span class="nav-number">5.4.2.1.</span> <span class="nav-text">倒计时状态</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#增加注册接口"><span class="nav-number">5.5.</span> <span class="nav-text">增加注册接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#绑定注册按钮"><span class="nav-number">5.5.1.</span> <span class="nav-text">绑定注册按钮</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注册成功清除验证码倒计时"><span class="nav-number">5.6.</span> <span class="nav-text">注册成功清除验证码倒计时</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#倒计时模块按钮恢复"><span class="nav-number">5.6.1.</span> <span class="nav-text">倒计时模块按钮恢复</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#登录接口"><span class="nav-number">5.7.</span> <span class="nav-text">登录接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注册登录函数提取出来"><span class="nav-number">5.8.</span> <span class="nav-text">注册登录函数提取出来</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#提交表单进行修改"><span class="nav-number">5.8.1.</span> <span class="nav-text">提交表单进行修改</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sha1加密"><span class="nav-number">5.9.</span> <span class="nav-text">sha1加密</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#代码优化-代码分离"><span class="nav-number">5.9.1.</span> <span class="nav-text">代码优化-代码分离</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代码优化–使用对象形式代替参数"><span class="nav-number">5.9.2.</span> <span class="nav-text">代码优化–使用对象形式代替参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#控制台Console"><span class="nav-number">5.10.</span> <span class="nav-text">控制台Console</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#登录跳转"><span class="nav-number">5.10.1.</span> <span class="nav-text">登录跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单独创建Layout"><span class="nav-number">5.10.2.</span> <span class="nav-text">单独创建Layout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Console模块-Main-vue"><span class="nav-number">5.10.3.</span> <span class="nav-text">Console模块(Main.vue)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#config样式"><span class="nav-number">5.11.</span> <span class="nav-text">config样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改路由名称"><span class="nav-number">5.11.1.</span> <span class="nav-text">修改路由名称</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#新增导航菜单"><span class="nav-number">5.12.</span> <span class="nav-text">新增导航菜单</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#其中的数据填入"><span class="nav-number">5.12.1.</span> <span class="nav-text">其中的数据填入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#左侧导航栏路由跳转"><span class="nav-number">5.12.2.</span> <span class="nav-text">左侧导航栏路由跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#建立分类信息路由"><span class="nav-number">5.12.3.</span> <span class="nav-text">建立分类信息路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#新建用户路由"><span class="nav-number">5.12.4.</span> <span class="nav-text">新建用户路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#elementUI路由启用"><span class="nav-number">5.12.5.</span> <span class="nav-text">elementUI路由启用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表中选中状态"><span class="nav-number">5.12.6.</span> <span class="nav-text">列表中选中状态</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zax Tseng</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.3.0</div>

        








        
      </div>
    </footer>

    

  </div>

  
    
  
  <script color='0,0,255' opacity='0.3' zIndex='-3' count='29' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>


  <script src="/js/schemes/muse.js?v=7.3.0"></script>



<script src="/js/next-boot.js?v=7.3.0"></script>




  















  <script src="/js/local-search.js?v=7.3.0"></script>














  

  

  


  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>


</body>
</html>
